# OttoAI Backend Environment Variables Template
# Copy this file to .env and fill in your actual values

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/truview

# Clerk Authentication
CLERK_SECRET_KEY=your_clerk_secret_key
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=your_clerk_publishable_key

# OpenAI API
OPENAI_API_KEY=your_openai_api_key

# Twilio Communications
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_FROM_NUMBER=your_twilio_phone_number
TWILIO_CALLBACK_NUMBER=your_twilio_callback_number

# CallRail Integration
CALLRAIL_API_KEY=your_callrail_api_key

# Bland.ai Integration
BLAND_API_KEY=your_bland_api_key

# Deepgram (if used)
DEEPGRAM_API_KEY=your_deepgram_api_key

# ============================================================================
# UWC (Unified Workflow Composer) Integration
# ============================================================================
# UWC is Otto's AI/ML partner (Shunya Labs) providing:
# - ASR (voice transcription)
# - RAG (Ask Otto intelligence)
# - Personal Clone (per-rep AI)
# - Follow-Up AI (message drafting)

# UWC API Configuration
UWC_BASE_URL=https://api-dev.shunyalabs.ai
UWC_API_KEY=your_uwc_api_key_here
UWC_HMAC_SECRET=your_uwc_hmac_secret_here
UWC_VERSION=v1
USE_UWC_STAGING=true

# UWC Feature Flags (gradual rollout)
# Set to true to enable each feature (default: false for safety)
ENABLE_UWC_ASR=false
ENABLE_UWC_RAG=false
ENABLE_UWC_TRAINING=false
ENABLE_UWC_FOLLOWUPS=false

# ============================================================================
# Redis Configuration
# ============================================================================
# Required for: rate limiting, Celery, idempotency cache, real-time events
REDIS_URL=redis://localhost:6379
# Or use Upstash for managed Redis:
# UPSTASH_REDIS_URL=redis://...

# ============================================================================
# Celery Configuration
# ============================================================================
ENABLE_CELERY=true
ENABLE_CELERY_BEAT=true

# ============================================================================
# Observability Configuration
# ============================================================================
LOG_LEVEL=INFO
OBS_REDACT_PII=true
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME_API=otto-api
OTEL_SERVICE_NAME_WORKER=otto-worker

# ============================================================================
# Security Configuration
# ============================================================================
ENVIRONMENT=development
ALLOWED_ORIGINS=http://localhost:3000,exp://*
RATE_LIMIT_USER=60/minute
RATE_LIMIT_TENANT=600/minute

# Development/Testing
DEV_EMIT_KEY=your_dev_emit_key_for_testing
